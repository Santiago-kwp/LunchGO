# 서버 장애 알림 옵션 정리

## 목적
- WAS 장애/성능 저하를 빠르게 인지한다.
- 운영 환경에 맞는 최소 비용/최소 유지보수 방식으로 시작한다.

## 옵션 A: Scouter 알림 강화
### 내용
- CPU/메모리/GC/응답시간/에러율 임계치를 설정해 알림 발송

### 장점
- 이미 Scouter를 사용 중이면 추가 도입 비용이 낮다.
- 애플리케이션 성능 이슈까지 함께 감지 가능

### 단점
- Scouter 서버/에이전트 상태에 의존
- 알림 채널 연동이 추가 설정 필요

## 옵션 B: 헬스체크 기반 외부 모니터링
### 내용
- `/actuator/health` 같은 엔드포인트를 외부에서 주기적으로 호출
- 실패 시 Slack/문자/메일로 알림

### 장점
- 장애 감지 로직이 단순하고 신뢰도가 높음
- 서버가 완전히 내려가도 감지 가능

### 단점
- 외부 모니터링 서비스 또는 별도 스크립트 운영 필요
- 보안상 헬스체크 공개 범위 관리 필요

## 옵션 C: 로그 기반 알림
### 내용
- `error.log`를 tail하여 ERROR 발생 시 알림 전송
- 간단한 webhook(예: Slack/Telegram)로 구현 가능

### 장점
- 상세 오류 맥락을 바로 확인 가능
- 구현이 비교적 단순

### 단점
- 서버/로그 시스템 장애 시 알림 불가
- 노이즈(비중요 ERROR) 관리 필요

## 선택 가이드
- 빠른 도입/기존 인프라 활용: 옵션 A
- 다운 감지 최우선: 옵션 B
- 오류 원인 즉시 파악: 옵션 C

## A + C 조합 운영
### 개요
- Scouter 알림(A)으로 장애 징후/성능 저하를 빠르게 감지
- 로그 알림(C)으로 실제 오류 내용을 즉시 확인

### 장점
- 감지 속도와 원인 파악을 동시에 확보
- 서로의 약점을 보완

### 주의사항
- 동일 장애로 중복 알림 가능
- 로그 알림은 필터링/중복 억제 로직이 필요
