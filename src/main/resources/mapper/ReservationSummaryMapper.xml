<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.LunchGo.reservation.mapper.ReservationSummaryMapper">

    <select id="selectReservationMenuItems" resultType="com.example.LunchGo.reservation.mapper.row.ReservationMenuItemRow">
        SELECT
            menu_name AS name,
            quantity AS quantity,
            unit_price AS unitPrice,
            line_amount AS lineAmount
        FROM reservation_menu_items
        WHERE reservation_id = #{reservationId}
        ORDER BY reservation_menu_item_id ASC
    </select>

    <select id="selectVisitCount" resultType="int">
        SELECT visit_cnt
        FROM restaurant_user_stats
        WHERE restaurant_id = #{restaurantId}
          AND user_id = #{userId}
    </select>
</mapper>
